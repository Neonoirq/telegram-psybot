# Телеграм бот-визитка

Представляю Вам небольшого, простого, но интересного, на мой взгляд, Телеграм бота.

## Предисловие

Телеграм бот был создан для информационной поддержки клиентов практикующего психолога. Сейчас бот в продакшене, все отлично функционирует. Рад, что мои знания и действия смогли создать полезный продукт.

Пока не предвидится планов по увеличению и улучшению функционала. Но это обсуждалось с заказчицей, поднимался вопрос о создании еще одного бота-магазина, поэтому все может быть, сейчас просто не до этого.

Если будут обновления нового фнукционала, то я полностью обновлю данные репозитория, потому что сейчас я сделал его полностью анонимизированным, т.к. не хочу давать прямых линков в интересах заказчика.

## Как пользоваться?

#### Основные моменты:

Важно! по определенным мотивам в боте была удалена различная персональная информация, которая отображала наполненость проекта информацией. Мне жаль, что этот момент может испортить восприятие бота и добавит трудностей, чтобы разобраться, но я постарался сделать так, чтобы Вы понимали за что отвечает та или иная переменная/кнопка, добавив дополнительную информацию. Особенно помогает, если Вы запустите весь код на своем тестовом боте. Приведу пример:

- есть коллбек, который срабатывает при нажатии кнопки 'btn', соответственно в самом коллбеке будет ссылка на кнопку, при нажатии которой он срабатывает, Вы ее легко найдете в модуле keyboard. Также почти каждый коллбек хранит в себе сообщение, которое импортируется из модуля messages. По сообщениям Вы также легко разберетесь какая переменная отвечает за него.

Не бойтесь писать мне в телеграме @fouraftermidnight или на почту novichkovroman.py@gmail.com, если у Вас есть какие-то вопросы. Я готов помочь Вам с Вашим ботом. Также я готов индивидуально дать Вам линк на моего бота в продакшене.

##### Давайте по порядку, что зачем и для чего. Начнем с визуальной структуры:
- 5 основных кнопок
- от основных кнопок идет ветвление кнопок
- кнопки хранят в себе сообщения с информацией
- все кнопки inline
- есть возможность записаться на консультацию (Вы можете реализовать запись на что угодно) с помощью FSMContext. На Вашу электронную почту прийдет уведомление, что кто-то осуществил запись, со всей информацией, которую заполнял клиент (уточнение: слишком поздно я подумал о том, что, электронная почта это хорошо, но можно также отправлять сообщение от бота в личные сообщения телеграм с той же информацией, думаю я добавлю эту функцию позже отдельным коммитом).
- удобный просмотр отзывов, которые Вы заранее подготовили на диске или в облаке (в боте реализация на диске, но тоже самое можно сделать и с облаком). Здесь также Вы можете реализовать просмотр контента, связанный с другой тематикой.

##### Теперь техническая структура.

Бот логически разделен, все основные сущности вынесены в отдельные директории для удобства. Считаю данную структуру директорий показательной, если Вы создали своего бота и сделали все в одном *.py файле, ориентируясь на моего бота Вы с легкостью сможете отрефакторить своего.

- "секретная информация" в виде токена, email и email-pass спрятаны в окружении среды
- сообщения, кнопки, картинки и колббеки/хендлеры вынесены в отедльные модули, благодаря чему с ними легко работать 
- каждый блок хендлеров/коллбеков вынесен в отдельный файл и соответствует своей основной логике. Например, есть кнопка "signup", которой соответсвуют определенные хендлеры. Все это находится в отдельном файле и региструется там же. Вы можете с удобством добавлять новые блоки хендлеров, которые охватывают другой функционал, приэтом никак не влияя и не взаимодействуя с другими хендлерами/коллбеками.
- также есть отдельный модуль, где реализована функция отправки электронного письма через Python. Она не уникальная, думаю подобную Вы с легкостью найдете в гугле. Думаю она также может быть усовершенствована.
Вообще я жалею, что писал эту функцию до того, как изучил книгу по сетям, где хорошо описывались все методы, которые есть в этой функции, но это уже так, лирика.

Думаю это были основные моменты, о который я хотел сказать. Скажу честно, это все-таки телеграм бот, который не делает сверхъестественных вещей и с момента его написания прошло не мало времени, но не осветить вышесказанное было бы неправильно. В любом случае, я оставил свои контакты, Вы можете без неудобств написать мне, если возникли какие-то вопросы, я с радостью готов ответить на них и помочь, если потребуется.

Спасибо за внимание!
